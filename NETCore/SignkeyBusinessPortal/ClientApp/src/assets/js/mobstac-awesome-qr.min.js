/* eslint-disable */
var QRCodeGenerator=function(t){var e={};function r(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(i,o,function(e){return t[e]}.bind(null,o));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=4)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.MODE_NUMBER=1]="MODE_NUMBER",t[t.MODE_ALPHA_NUM=2]="MODE_ALPHA_NUM",t[t.MODE_8BIT_BYTE=4]="MODE_8BIT_BYTE",t[t.MODE_KANJI=8]="MODE_KANJI"}(e.QRMode||(e.QRMode={})),function(t){t[t.L=1]="L",t[t.M=0]="M",t[t.Q=3]="Q",t[t.H=2]="H"}(e.QRErrorCorrectLevel||(e.QRErrorCorrectLevel={})),function(t){t[t.PATTERN000=0]="PATTERN000",t[t.PATTERN001=1]="PATTERN001",t[t.PATTERN010=2]="PATTERN010",t[t.PATTERN011=3]="PATTERN011",t[t.PATTERN100=4]="PATTERN100",t[t.PATTERN101=5]="PATTERN101",t[t.PATTERN110=6]="PATTERN110",t[t.PATTERN111=7]="PATTERN111"}(e.QRMaskPattern||(e.QRMaskPattern={})),function(t){t.PDF="pdf",t.SVG="svg",t.JPEG="jpeg",t.PNG="png"}(e.CanvasType||(e.CanvasType={})),function(t){t.SQUARE="square",t.CIRCLE="circle",t.ROUNDED="rounded",t.LEFT_LEAF="left-leaf",t.RIGHT_LEAF="right-leaf"}(e.EyeFrameShape||(e.EyeFrameShape={})),function(t){t.SQUARE="square",t.CIRCLE="circle",t.ROUNDED="rounded",t.LEFT_LEAF="left-leaf",t.RIGHT_LEAF="right-leaf",t.LEFT_DIAMOND="left-diamond",t.RIGHT_DIAMOND="right-diamond"}(e.EyeBallShape||(e.EyeBallShape={})),function(t){t.SQUARE="square",t.CIRCLE="circle",t.KITE="kite",t.LEFT_DIAMOND="left-diamond",t.RIGHT_DIAMOND="right-diamond"}(e.DataPattern||(e.DataPattern={})),function(t){t.NONE="none",t.LINEAR="linear",t.RADIAL="radial",t.VERTICAL="vertical",t.HORIZONTAL="horizontal"}(e.GradientType||(e.GradientType={})),function(t){t.NONE="none",t.BOX_BOTTOM="box-bottom",t.BOX_TOP="box-top",t.BANNER_TOP="banner-top",t.BANNER_BOTTOM="banner-bottom",t.BALLOON_BOTTOM="balloon-bottom",t.BALLOON_TOP="balloon-top"}(e.QRCodeFrame||(e.QRCodeFrame={}))},function(t,e,r){const i=r(5);e.parseFont=i,e.createCanvas=function(t,e){return Object.assign(document.createElement("canvas"),{width:t,height:e})},e.createImageData=function(t,e,r){switch(arguments.length){case 0:return new ImageData;case 1:return new ImageData(t);case 2:return new ImageData(t,e);default:return new ImageData(t,e,r)}},e.loadImage=function(t,e){return new Promise(function(r,i){const o=Object.assign(document.createElement("img"),e);function n(){o.onload=null,o.onerror=null}o.onload=function(){n(),r(o)},o.onerror=function(){n(),i(new Error('Failed to load the image "'+t+'"'))},o.src=t})}},function(t,e,r){"use strict";var i=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))(function(o,n){function a(t){try{l(i.next(t))}catch(t){n(t)}}function s(t){try{l(i.throw(t))}catch(t){n(t)}}function l(t){t.done?o(t.value):new r(function(e){e(t.value)}).then(a,s)}l((i=i.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var r,i,o,n,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(o=2&n[0]?i.return:n[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,i=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){a.label=n[1];break}if(6===n[0]&&a.label<o[1]){a.label=o[1],o=n;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(n);break}o[2]&&a.ops.pop(),a.trys.pop();continue}n=e.call(t,a)}catch(t){n=[6,t],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),a=r(6),s=r(3),l=r(0),c=r(7),f=function(){function t(t,e){for(var r=0;r<t.length&&0===t[r];)r++;this.num=new Array(t.length-r+e);for(var i=0;i<t.length-r;i++)this.num[i]=t[i+r]}return t.prototype.get=function(t){return this.num[t]},t.prototype.getLength=function(){return this.num.length},t.prototype.multiply=function(e){for(var r=new Array(this.getLength()+e.getLength()-1),i=0;i<this.getLength();i++)for(var o=0;o<e.getLength();o++)r[i+o]^=a.QRMath.gexp(a.QRMath.glog(this.get(i))+a.QRMath.glog(e.get(o)));return new t(r,0)},t.prototype.mod=function(e){var r;if(this.getLength()-e.getLength()<0)return this;var i=a.QRMath.glog(this.get(0))-a.QRMath.glog(e.get(0)),o=new Array(this.getLength());for(r=0;r<this.getLength();r++)o[r]=this.get(r);for(r=0;r<e.getLength();r++)o[r]^=a.QRMath.gexp(a.QRMath.glog(e.get(r))+i);return new t(o,0).mod(e)},t}();e.QRPolynomial=f;var u=function(){function t(t,e){this.modules=[[]],this.moduleCount=0,this.dataList=[],this.typeNumber=t,this.config=e,this.errorCorrectLevel=e.correctLevel,this.addData(e.text),this.make(),this.drawing=new h(this.moduleCount,this.patternPosition,e,this.isDark,this.modules)}return t.createData=function(e,r,i){var o,n=d.getQRSBlocks(e,r),s=new g;for(o=0;o<i.length;o++){var l=i[o];s.put(l.mode,4),s.put(l.getLength(),a.Util.getLengthInBits(l.mode,e)),l.write(s)}var c=0;for(o=0;o<n.length;o++)c+=n[o].dataCount;if(s.getLengthInBits()>8*c)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+8*c+")");for(s.getLengthInBits()+4<=8*c&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=8*c||(s.put(t.PAD0,8),s.getLengthInBits()>=8*c));)s.put(t.PAD1,8);return t.createBytes(s,n)},t.createBytes=function(t,e){var r,i,o=0,n=0,s=0,l=new Array(e.length),c=new Array(e.length);for(i=0;i<e.length;i++){var u=e[i].dataCount,h=e[i].totalCount-u;for(n=Math.max(n,u),s=Math.max(s,h),l[i]=new Array(u),r=0;r<l[i].length;r++)l[i][r]=255&t.buffer[r+o];o+=u;var d=a.Util.getErrorCorrectPolynomial(h),g=new f(l[i],d.getLength()-1).mod(d);for(c[i]=new Array(d.getLength()-1),r=0;r<c[i].length;r++){var p=r+g.getLength()-c[i].length;c[i][r]=p>=0?g.get(p):0}}var m=0;for(r=0;r<e.length;r++)m+=e[r].totalCount;var y=new Array(m),T=0;for(r=0;r<n;r++)for(i=0;i<e.length;i++)r<l[i].length&&(y[T++]=l[i][r]);for(r=0;r<s;r++)for(i=0;i<e.length;i++)r<c[i].length&&(y[T++]=c[i][r]);return y},Object.defineProperty(t.prototype,"patternPosition",{get:function(){return s.PATTERN_POSITION_TABLE[this.typeNumber-1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canvasType",{get:function(){return this.config.canvasType||l.CanvasType.PNG},enumerable:!0,configurable:!0}),t.prototype.addData=function(t){var e=new p(t);this.dataList.push(e),this.dataCache=void 0},t.prototype.toBuffer=function(){var t=this.canvas.toBuffer();switch(this.config.canvasType){case l.CanvasType.PDF:t=this.canvas.toBuffer("application/pdf");break;case l.CanvasType.SVG:t=this.canvas.toBuffer();break;default:throw{error:"Cannot convert to buffer for "+this.config.canvasType}}return t},t.prototype.createStream=function(t){switch(this.config.canvasType){case l.CanvasType.PDF:return this.canvas.createPDFStream(t);case l.CanvasType.PNG:return this.canvas.createPNGStream(t);case l.CanvasType.JPEG:return this.canvas.createJPEGStream(t);default:throw{error:"Cannot create stream for "+this.config.canvasType}}},t.prototype.toDataURL=function(){switch(this.config.canvasType){case l.CanvasType.PNG:return this.canvas.toDataURL("image/png");case l.CanvasType.JPEG:return this.canvas.toDataURL("image/jpeg");default:throw{error:"Cannot convert to dataURL for "+this.config.canvasType}}},t.prototype.isDark=function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},t.prototype.make=function(){if(this.typeNumber<1){var t=void 0;for(t=1;t<40;t++){var e=void 0,r=d.getQRSBlocks(t,this.errorCorrectLevel),i=new g,o=0;for(e=0;e<r.length;e++)o+=r[e].dataCount;for(e=0;e<this.dataList.length;e++){var n=this.dataList[e];i.put(n.mode,4),i.put(n.getLength(),a.Util.getLengthInBits(n.mode,t)),n.write(i)}if(i.getLengthInBits()<=8*o)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())},t.prototype.makeImpl=function(e,r){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++){this.modules[i]=new Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++)this.modules[i][o]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,r),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=t.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,r)},t.prototype.setupPositionProbePattern=function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var i=-1;i<=7;i++)e+i<=-1||this.moduleCount<=e+i||(this.modules[t+r][e+i]=0<=r&&r<=6&&(0===i||6===i)||0<=i&&i<=6&&(0===r||6===r)||2<=r&&r<=4&&2<=i&&i<=4)},t.prototype.getBestMaskPattern=function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var i=a.Util.getLostPoint(this);(0===r||t>i)&&(t=i,e=r)}return e},t.prototype.setupTimingPattern=function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},t.prototype.setupPositionAdjustPattern=function(){for(var t=this.patternPosition,e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var i=t[e],o=t[r];if(null==this.modules[i][o])for(var n=-2;n<=2;n++)for(var a=-2;a<=2;a++)this.modules[i+n][o+a]=-2===n||2===n||-2===a||2===a||0===n&&0===a}},t.prototype.setupTypeNumber=function(t){var e,r,i=a.BCH.typeNumber(this.typeNumber);for(e=0;e<18;e++)r=!t&&1==(i>>e&1),this.modules[Math.floor(e/3)][e%3+this.moduleCount-8-3]=r;for(e=0;e<18;e++)r=!t&&1==(i>>e&1),this.modules[e%3+this.moduleCount-8-3][Math.floor(e/3)]=r},t.prototype.setupTypeInfo=function(t,e){var r,i,o=this.errorCorrectLevel<<3|e,n=a.BCH.typeInfo(o);for(r=0;r<15;r++)i=!t&&1==(n>>r&1),r<6?this.modules[r][8]=i:r<8?this.modules[r+1][8]=i:this.modules[this.moduleCount-15+r][8]=i;for(r=0;r<15;r++)i=!t&&1==(n>>r&1),r<8?this.modules[8][this.moduleCount-r-1]=i:r<9?this.modules[8][15-r-1+1]=i:this.modules[8][15-r-1]=i;this.modules[this.moduleCount-8][8]=!t},t.prototype.mapData=function(t,e){for(var r=-1,i=this.moduleCount-1,o=7,n=0,s=this.moduleCount-1;s>0;s-=2)for(6===s&&s--;;){for(var l=0;l<2;l++)if(null==this.modules[i][s-l]){var c=!1;n<t.length&&(c=1==(t[n]>>>o&1)),a.Util.hasMask(e,i,s-l)&&(c=!c),this.modules[i][s-l]=c,-1===--o&&(n++,o=7)}if((i+=r)<0||this.moduleCount<=i){i-=r,r=-r;break}}},t.PAD0=236,t.PAD1=17,t}();e.QRCode=u;var h=function(){function t(e,r,i,o,a){this.moduleCount=e,this.patternPosition=r,this.isDark=o,this.modules=a,this.config=t.generateDrawingConfig(i,e),this.isPainted=!1,this.canvas=n.createCanvas(i.size,i.size,this.canvasType),this.context=this.canvas.getContext("2d")}return t.generateDrawingConfig=function(t,e){var r=t.dotScale;if(r<=0||r>1)throw new Error("Scale should be in range (0, 1].");var i=t.size,o=t.margin;(o<0||2*o>=i)&&(o=0);var n=Math.ceil(o),a=i-2*o,s=Math.ceil(a/e),l=s*e,c={size:l+2*n,nSize:s,rawSize:t.size,viewportSize:l,margin:n,dotScale:r,moduleSize:s};return Object.assign(t,c)},t.prototype.draw=function(){var t,e=this,r=n.createCanvas(this.config.size,this.config.size,this.canvasType),i=r.getContext("2d");switch(this.config.gradientType){case l.GradientType.NONE:t=this.config.colorDark;break;case l.GradientType.LINEAR:case l.GradientType.HORIZONTAL:(t=i.createLinearGradient(0,0,this.config.moduleSize*this.moduleCount,0)).addColorStop(0,this.config.colorDark),t.addColorStop(1,this.config.colorLight);break;case l.GradientType.VERTICAL:(t=i.createLinearGradient(0,0,0,this.config.moduleSize*this.moduleCount)).addColorStop(0,this.config.colorDark),t.addColorStop(1,this.config.colorLight);break;case l.GradientType.RADIAL:(t=i.createRadialGradient(this.config.moduleSize*this.moduleCount/2,this.config.moduleSize*this.moduleCount/2,this.config.moduleSize*this.moduleCount/6,this.config.moduleSize*this.moduleCount/2,this.config.moduleSize*this.moduleCount/2,this.config.moduleSize*this.moduleCount/2)).addColorStop(0,this.config.colorLight),t.addColorStop(1,this.config.colorDark);break;default:t=this.config.colorDark}i.translate(this.config.margin,this.config.margin),i.save();var o=n.createCanvas(this.config.size,this.config.size,this.canvasType),a=o.getContext("2d");return this.addBackground(a,this.config.size,this.config.backgroundImage,this.config.backgroundColor).then(function(){return e.drawAlignPatterns(i,t)}).then(function(){return e.drawPositionProtectors(i)}).then(function(){return e.drawAlignProtectors(i)}).then(function(){return e.drawPositionPatterns(i,t)}).then(function(){return e.fillMargin(i)}).then(function(){return e.drawLogoImage(i)}).then(function(){var t=e.config.size,n=e.config.margin;return a.drawImage(r,0,0,t,t),i.drawImage(o,-n,-n,t,t),e.scaleFinalImage(r)}).then(function(t){return e.drawFrame(t,e.config.frameStyle,e.config.frameColor,e.config.frameText)}).then(function(t){return e.isPainted=!0,t})},t.prototype.drawFrame=function(t,e,r,a){return i(this,void 0,void 0,function(){var i,s,f,u,h,d,g,p,m,y,T,v,C,w,E,S,b,R,k,D,P,L,A=this;return o(this,function(o){if(!e||e===l.QRCodeFrame.NONE)return[2,t];switch(i=r||"#000000",s=this.config.moduleSize,f=this.config.rawSize,h=a||"SCAN ME",d=(u=f+2*s)+s,g=1.265*u,p=0,m=0,y=0,T=0,v=0,0,0,C=0,w=0,E=0,S=0,b=0,R=0,k=0,e!==l.QRCodeFrame.BANNER_TOP&&e!==l.QRCodeFrame.BANNER_BOTTOM||(g=1.216*u),e!==l.QRCodeFrame.BOX_TOP&&e!==l.QRCodeFrame.BOX_BOTTOM||(g=1.27*u),D=n.createCanvas(d,g,this.canvasType),P=D.getContext("2d"),e){case l.QRCodeFrame.BOX_BOTTOM:k=s,P.lineJoin="round",P.lineWidth=k,p=k/2,m=k/2,v=u/5,C=u/2+s,w=1.17*u+k/2+s/2,E=s+k/2,S=s+k/2,b=(y=0)+u/4.2,R=(T=1.05*u+k/2)+1.45*k,P.fillStyle=this.config.backgroundImage?"#ffffff":this.config.backgroundColor?this.config.backgroundColor:"#ffffff",P.fillRect(p+k/6,m+k/6,d-1.5*k,d-1.5*k),P.fillStyle=i,P.strokeStyle=i,this.drawSquareFrame(p,m,P,u,u,!1),k=s,P.lineWidth=k,this.drawSquare(y+k/1.5,T+k/2,P,u-k+s/1.5,v-k,!0),k=s;break;case l.QRCodeFrame.BOX_TOP:k=s,P.lineJoin="round",P.lineWidth=k,C=u/2+s,w=.105*u+k/2+s/2,E=(p=k/2)+s,S=(m=1.2*(v=u/5)+k/2)+s,b=(y=0)+u/4.2,R=(T=0)+1.45*k,P.fillStyle=this.config.backgroundImage?"#ffffff":this.config.backgroundColor?this.config.backgroundColor:"#ffffff",P.fillRect(p+k/6,m+k/6,d-1.5*k,d-1.5*k),P.fillStyle=i,P.strokeStyle=i,this.drawSquareFrame(p,m,P,u,u,!1),k=s,P.lineWidth=k,this.drawSquare(y+k/1.5,T+k/2,P,u-k+s/1.5,v-k,!0),k=s;break;case l.QRCodeFrame.BANNER_TOP:k=s,P.lineJoin="round",P.lineWidth=k,C=u/2+s,w=.113*u+k/2+s/2,b=(y=0)+u/4.2,R=(T=0)+1.8*k,E=(p=k/2)+s,S=(m=(v=u/5)-1)+s,P.fillStyle=this.config.backgroundImage?"#ffffff":this.config.backgroundColor?this.config.backgroundColor:"#ffffff",P.fillRect(p+k/6,m+k/6,d-1.5*k,d-1.5*k),P.fillStyle=i,P.strokeStyle=i,this.drawSquareFrame(p,m,P,u,u,!1),this.drawSquare(y+k/2,T+k/2,P,u,v-k,!0),P.moveTo(k/2,v+2*k),P.lineTo(k/2,v/2),P.moveTo(u+k/2,v+2*k),P.lineTo(u+k/2,v/2),P.stroke();break;case l.QRCodeFrame.BANNER_BOTTOM:k=s,P.lineJoin="round",P.lineWidth=k,p=k/2,m=k/2,v=u/5,C=u/2+s,w=1.11*u+k/2+s/2,b=(y=0)+u/4.2,R=(T=u+k/2)+1.2*k,E=s+k/2,S=s+k/2,P.fillStyle=this.config.backgroundImage?"#ffffff":this.config.backgroundColor?this.config.backgroundColor:"#ffffff",P.fillRect(p+k/6,m+k/6,d-1.5*k,d-1.5*k),P.fillStyle=i,P.strokeStyle=i,this.drawSquareFrame(p,m,P,u,u,!1),this.drawSquare(y+k/2,T+k/2,P,u,v-k,!0),P.moveTo(k/2,T+k/2),P.lineTo(k/2,u-k),P.lineTo(k/2,T),P.moveTo(u+k/2,T+k/2),P.lineTo(u+k/2,u-k),P.lineTo(u+k/2,T+k),P.stroke();break;case l.QRCodeFrame.BALLOON_TOP:k=s,P.lineJoin="round",P.lineWidth=k,C=u/2+s,w=.1*u+k/2+s/2,b=(y=0)+u/4.2,R=(T=0)+1.3*k,E=(p=k/2)+s,S=(m=.05*u+(v=u/5)+k/2)+s,P.fillStyle=this.config.backgroundImage?"#ffffff":this.config.backgroundColor?this.config.backgroundColor:"#ffffff",P.fillRect(0,v/2,d,u+v),P.fillStyle=i,P.strokeStyle=i,k=2*s,P.lineWidth=k,this.drawSquare(y+k/2,T+k/2,P,u-k+s,v-k,!0),k=s;break;case l.QRCodeFrame.BALLOON_BOTTOM:k=s,P.lineJoin="round",P.lineWidth=k,p=k/2,m=k/2,v=u/5,C=u/2+s,w=1.17*u+k/2+s/2,b=(y=0)+u/4.2,R=(T=1.05*u+k/2)+1.4*k,E=s+k/2,S=s+k/2,P.fillStyle=this.config.backgroundImage?"#ffffff":this.config.backgroundColor?this.config.backgroundColor:"#ffffff",P.fillRect(0,0,d,T+v/2),P.fillStyle=i,P.strokeStyle=i,k=2*s,P.lineWidth=k,this.drawSquare(y+k/2,T+k/2,P,u-k+s,v-k,!0),k=s;break;default:return[2,t]}return P.fillStyle="#ffffff",P.strokeStyle="#ffffff",P.lineWidth=k,P.textAlign="center",L=this.config.size/10,P.font=L+"px arial",this.config.isVCard&&(C+=3*s,w+=s,b-=2*s,R+=2*s),P.fillText(h,C+1.1*s,w),P.drawImage(t,E,S,f,f),[2,c.loadImage("/img/cellphone.svg").then(function(t){return P.drawImage(t,b,R,u/10,u/10),P.fillStyle=r||"#000000",e===l.QRCodeFrame.BALLOON_BOTTOM&&(A.config.isVCard?(P.moveTo(y+5+u/2,T+2),P.lineTo(y+5+u/2+4*s,T+2),P.lineTo(y+5+u/2,T+2-4.5*s),P.lineTo(y+5+u/2-4*s,T+2),P.fill()):(P.moveTo(y+5+u/2,T+2),P.lineTo(y+5+u/2+2*s,T+2),P.lineTo(y+5+u/2,T+2-2.5*s),P.lineTo(y+5+u/2-2*s,T+2),P.fill())),e===l.QRCodeFrame.BALLOON_TOP&&(A.config.isVCard?(P.moveTo(y+5+u/2,v-2),P.lineTo(y+5+u/2+4*s,v-2),P.lineTo(y+5+u/2,v-2+4.5*s),P.lineTo(y+5+u/2-4*s,v-2),P.fill()):(P.moveTo(y+5+u/2,v-2),P.lineTo(y+5+u/2+2*s,v-2),P.lineTo(y+5+u/2,v-2+2.5*s),P.lineTo(y+5+u/2-2*s,v-2),P.fill())),D},function(t){return D})]})})},t.prototype.scaleFinalImage=function(t){return i(this,void 0,void 0,function(){var e,r;return o(this,function(i){return e=this.config.rawSize,r=n.createCanvas(e,e,this.canvasType),r.getContext("2d").drawImage(t,0,0,e,e),[2,r]})})},Object.defineProperty(t.prototype,"canvasType",{get:function(){switch(this.config.canvasType){case l.CanvasType.SVG:return l.CanvasType.SVG;case l.CanvasType.PDF:return l.CanvasType.PDF;default:return}},enumerable:!0,configurable:!0}),t.prototype.drawLogoImage=function(t){return i(this,void 0,void 0,function(){var e,r,i,n,s,l,f;return o(this,function(o){return this.config.logoImage?(e=this.config.logoScale,r=this.config.logoMargin,i=this.config.logoCornerRadius,(e<=0||e>=1)&&(e=.2),r<0&&(r=0),i<0&&(i=0),t.restore(),n=this.config.viewportSize*e,s=this.config.margin,l=.5*(this.config.size-n),f=l-r-s,t.fillStyle="#ffffff",t.save(),a.CanvasUtil.prepareRoundedCornerClip(t,f,f,n+2*r,n+2*r,i),t.clip(),t.fill(),t.restore(),t.save(),[2,c.loadImage(this.config.logoImage).then(function(e){a.CanvasUtil.prepareRoundedCornerClip(t,f+r,f+r,n,n,i),t.clip(),t.drawImage(e,f+r,f+r,n,n),t.restore()})]):[2]})})},t.prototype.fillMargin=function(t){var e=this.config.margin,r=this.config.size,i=this.config.viewportSize;this.config.whiteMargin&&(t.fillStyle="#ffffff",t.fillRect(-e,-e,r,e),t.fillRect(-e,i,r,e),t.fillRect(i,-e,e,r),t.fillRect(-e,-e,e,r))},t.prototype.drawEyeFrames=function(t,e,r){var i=this.config.moduleSize,o=this.moduleCount;switch(e){case l.EyeFrameShape.CIRCLE:t.fillStyle=r,this.drawCircularFrame(3.5*i,3.5*i,t),this.drawCircularFrame((o-3.5)*i,3.5*i,t),this.drawCircularFrame(3.5*i,(o-3.5)*i,t),t.fillStyle=this.config.colorDark;break;case l.EyeFrameShape.ROUNDED:t.fillStyle=r,t.strokeStyle=r;var n=2*i;t.lineJoin="round",t.lineWidth=n,this.drawSquareFrame(0+n/4,0+n/4,t,7*i-n/2,7*i-n/2,!0),this.drawSquareFrame((o-7)*i+n/4,0+n/4,t,7*i-n/2,7*i-n/2,!0),this.drawSquareFrame(0+n/4,(o-7)*i+n/4,t,7*i-n/2,7*i-n/2,!0),t.fillStyle=this.config.colorDark,t.strokeStyle=this.config.colorDark;break;case l.EyeFrameShape.LEFT_LEAF:t.fillStyle=r,t.strokeStyle=r;n=2*i;t.lineJoin="round",t.lineWidth=n,this.drawLeafFrame(0+n/4,0+n/4,t,7*i-n/2,"left"),this.drawLeafFrame((o-7)*i+n/4,0+n/4,t,7*i-n/2,"left"),this.drawLeafFrame(0+n/4,(o-7)*i+n/4,t,7*i-n/2,"left"),t.fillStyle=this.config.colorDark,t.strokeStyle=this.config.colorDark;break;case l.EyeFrameShape.RIGHT_LEAF:t.fillStyle=r,t.strokeStyle=r;n=2*i;t.lineJoin="round",t.lineWidth=n,this.drawLeafFrame(0+n/4,0+n/4,t,7*i-n/2,"right"),this.drawLeafFrame((o-7)*i+n/4,0+n/4,t,7*i-n/2,"right"),this.drawLeafFrame(0+n/4,(o-7)*i+n/4,t,7*i-n/2,"right"),t.fillStyle=this.config.colorDark,t.strokeStyle=this.config.colorDark;break;default:t.fillStyle=r,this.drawSquareEyeFrame(0,0,t,7*i,7*i,!1),this.drawSquareEyeFrame((o-7)*i,0,t,7*i,7*i,!1),this.drawSquareEyeFrame(0,(o-7)*i,t,7*i,7*i,!1),t.fillStyle=this.config.colorDark}},t.prototype.drawLeafFrame=function(t,e,r,i,o){var n=this.config.moduleSize,a=t+i,s=e+i,l=2*n;switch(r.beginPath(),r.lineWidth=n,o){case"right":r.moveTo(t+l,e),r.lineTo(a,e),r.lineTo(a,e+i-l),r.quadraticCurveTo(a,s,a-l,s),r.lineTo(t,s),r.lineTo(t,e+l),r.quadraticCurveTo(t,e,t+l,e),r.stroke();break;case"left":r.moveTo(t,e),r.lineTo(a-l,e),r.quadraticCurveTo(a,e,a,e+l),r.lineTo(a,e+i),r.lineTo(t+l,s),r.quadraticCurveTo(t,s,t,s-l),r.lineTo(t,e-l/4),r.stroke()}},t.prototype.drawSquareEyeFrame=function(t,e,r,i,o,n){var a=this.config.moduleSize;r.fillRect(t,e,i,o),r.clearRect(t+1*a,e+1*a,i-2*a,o-2*a)},t.prototype.drawSquareFrame=function(t,e,r,i,o,n){var a=this.config.moduleSize;if(n){var s=t+i,l=e+o,c=2*a;r.beginPath(),r.lineWidth=a/1.5,r.moveTo(t+c,e),r.lineTo(s-c,e),r.quadraticCurveTo(s,e,s,e+c),r.lineTo(s,e+o-c),r.quadraticCurveTo(s,l,s-c,l),r.lineTo(t+c,l),r.quadraticCurveTo(t,l,t,l-c),r.lineTo(t,e+c),r.quadraticCurveTo(t,e,t+c,e),r.stroke()}else{s=t+i,l=e+o,c=a/2;r.beginPath(),r.lineWidth=a/1.5,r.moveTo(t+c,e),r.lineTo(s-c,e),r.quadraticCurveTo(s,e,s,e+c),r.lineTo(s,e+o-c),r.quadraticCurveTo(s,l,s-c,l),r.lineTo(t+c,l),r.quadraticCurveTo(t,l,t,l-c),r.lineTo(t,e+c),r.quadraticCurveTo(t,e,t+c,e),r.stroke()}},t.prototype.drawCircularFrame=function(t,e,r){var i=this.config.moduleSize;r.beginPath(),r.arc(t,e,3.5*i,0,2*Math.PI,!0),r.arc(t,e,2.5*i,0,2*Math.PI,!0),r.fill("evenodd")},t.prototype.drawEyeBalls=function(t,e,r){var i=this.config.moduleSize,o=this.moduleCount;switch(e){case l.EyeBallShape.LEFT_DIAMOND:t.fillStyle=r,this.drawDiamond(2*i,2*i,t,3*i,3*i,!1),this.drawDiamond((o-7+2)*i,2*i,t,3*i,3*i,!1),this.drawDiamond(2*i,(o-7+2)*i,t,3*i,3*i,!1),t.fillStyle=this.config.colorDark;break;case l.EyeBallShape.RIGHT_DIAMOND:t.fillStyle=r,this.drawDiamond(2*i,2*i,t,3*i,3*i,!0),this.drawDiamond((o-7+2)*i,2*i,t,3*i,3*i,!0),this.drawDiamond(2*i,(o-7+2)*i,t,3*i,3*i,!0),t.fillStyle=this.config.colorDark;break;case l.EyeBallShape.CIRCLE:t.fillStyle=r,this.drawCircle(3.5*i,3.5*i,t,1.5*i),this.drawCircle((o-3.5)*i,3.5*i,t,1.5*i),this.drawCircle(3.5*i,(o-3.5)*i,t,1.5*i),t.fillStyle=this.config.colorDark;break;case l.EyeBallShape.LEFT_LEAF:t.fillStyle=r,this.drawDiamond(2*i,2*i,t,3*i,3*i,!1),this.drawDiamond((o-7+2)*i,2*i,t,3*i,3*i,!1),this.drawDiamond(2*i,(o-7+2)*i,t,3*i,3*i,!1),this.drawCircle(3.5*i,3.5*i,t,1.5*i),this.drawCircle((o-3.5)*i,3.5*i,t,1.5*i),this.drawCircle(3.5*i,(o-3.5)*i,t,1.5*i),t.fillStyle=this.config.colorDark;break;case l.EyeBallShape.RIGHT_LEAF:t.fillStyle=r,this.drawDiamond(2*i,2*i,t,3*i,3*i,!0),this.drawDiamond((o-7+2)*i,2*i,t,3*i,3*i,!0),this.drawDiamond(2*i,(o-7+2)*i,t,3*i,3*i,!0),this.drawCircle(3.5*i,3.5*i,t,1.5*i),this.drawCircle((o-3.5)*i,3.5*i,t,1.5*i),this.drawCircle(3.5*i,(o-3.5)*i,t,1.5*i),t.fillStyle=this.config.colorDark;break;case l.EyeBallShape.ROUNDED:t.fillStyle=r,t.strokeStyle=r;var n=2*i;t.lineJoin="round",t.lineWidth=n,this.drawSquare(2*i+n/2,2*i+n/2,t,3*i-n,3*i-n,!0),this.drawSquare((o-7+2)*i+n/2,2*i+n/2,t,3*i-n,3*i-n,!0),this.drawSquare(2*i+n/2,(o-7+2)*i+n/2,t,3*i-n,3*i-n,!0),t.fillStyle=this.config.colorDark,t.strokeStyle=this.config.colorDark;break;default:t.fillStyle=r,this.drawSquare(2*i,2*i,t,3*i,3*i,!1),this.drawSquare((o-7+2)*i,2*i,t,3*i,3*i,!1),this.drawSquare(2*i,(o-7+2)*i,t,3*i,3*i,!1),t.fillStyle=this.config.colorDark}},t.prototype.drawDiamond=function(t,e,r,i,o,n){n?(r.beginPath(),r.moveTo(t+i/2,e),r.lineTo(t+i,e),r.lineTo(t+i,e+o/2),r.lineTo(t+i/2,e+o),r.lineTo(t,e+o),r.lineTo(t,e+o/2),r.fill()):(r.beginPath(),r.moveTo(t,e),r.lineTo(t+i/2,e),r.lineTo(t+i,e+o/2),r.lineTo(t+i,e+o),r.lineTo(t+i/2,e+o),r.lineTo(t,e+o/2),r.fill())},t.prototype.drawCircle=function(t,e,r,i,o,n){r.beginPath(),r.arc(t,e,i,0,2*Math.PI,!0),r.fill()},t.prototype.drawSquare=function(t,e,r,i,o,n){n&&r.strokeRect(t,e,i,o),r.fillRect(t,e,i,o)},t.prototype.drawKite=function(t,e,r,i,o,n){r.beginPath(),r.moveTo(t+i/2,e),r.lineTo(t+i,e+o/2),r.lineTo(t+i/2,e+o),r.lineTo(t,e+o/2),r.fill()},t.prototype.drawPositionPatterns=function(t,e){t.fillStyle=e;var r=this.config.moduleSize,i=this.moduleCount,o=this.config.eyeBallColor?this.config.eyeBallColor:e,n=this.config.eyeBallShape?this.config.eyeBallShape:l.EyeBallShape.SQUARE,a=this.config.eyeFrameColor?this.config.eyeFrameColor:e,s=this.config.eyeFrameShape?this.config.eyeFrameShape:l.EyeFrameShape.SQUARE,c=this.config.dataPattern?this.config.dataPattern:l.DataPattern.SQUARE;this.drawEyeFrames(t,s,a),this.drawEyeBalls(t,n,o),t.fillStyle=e;for(var f=0;f<i-15;f+=2)switch(c){case l.DataPattern.CIRCLE:this.drawCircle((8+f)*r+r/2,6*r+r/2,t,r/2),this.drawCircle(6*r+r/2,(8+f)*r+r/2,t,r/2);break;case l.DataPattern.KITE:this.drawKite((8+f)*r,6*r,t,r,r),this.drawKite(6*r,(8+f)*r,t,r,r);break;case l.DataPattern.LEFT_DIAMOND:this.drawDiamond((8+f)*r,6*r,t,r,r,!1),this.drawDiamond(6*r,(8+f)*r,t,r,r,!1);break;case l.DataPattern.RIGHT_DIAMOND:this.drawDiamond((8+f)*r,6*r,t,r,r,!0),this.drawDiamond(6*r,(8+f)*r,t,r,r,!0);break;default:this.drawSquare((8+f)*r,6*r,t,r,r,!1),this.drawSquare(6*r,(8+f)*r,t,r,r,!1)}var u=this.patternPosition,h=u[u.length-1];for(f=0;f<u.length;f++)for(var d=0;d<u.length;d++){var g=u[d],p=u[f];(6!==g||6!==p&&p!==h)&&(6!==p||6!==g&&g!==h)&&(t.fillStyle=e,this.drawAlign(t,g,p,r,r,c))}},t.prototype.drawAlign=function(t,e,r,i,o,n){var a,s=!1;switch(n){case l.DataPattern.CIRCLE:a=this.drawCircle;break;case l.DataPattern.SQUARE:a=this.drawSquare;break;case l.DataPattern.KITE:a=this.drawKite;break;case l.DataPattern.LEFT_DIAMOND:a=this.drawDiamond;break;case l.DataPattern.RIGHT_DIAMOND:a=this.drawDiamond,s=!0;break;default:a=this.drawSquare}for(var c=n===l.DataPattern.CIRCLE?(e-2)*i+i/2:(e-2)*i,f=n===l.DataPattern.CIRCLE?(r-2)*o+o/2:(r-2)*o,u=n===l.DataPattern.CIRCLE?o/2:o,h=n===l.DataPattern.CIRCLE?i/2:i,d=0;d<4;d++)a(c,f,t,h,u,s),f+=o;c=n===l.DataPattern.CIRCLE?(e+2)*i+i/2:(e+2)*i,f=n===l.DataPattern.CIRCLE?(r-2+1)*o+o/2:(r-2+1)*o;for(d=0;d<4;d++)a(c,f,t,h,u,s),f+=o;c=n===l.DataPattern.CIRCLE?(e-2+1)*i+i/2:(e-2+1)*i,f=n===l.DataPattern.CIRCLE?(r-2)*o+o/2:(r-2)*o;for(d=0;d<4;d++)a(c,f,t,h,u,s),c+=i;c=n===l.DataPattern.CIRCLE?(e-2)*i+i/2:(e-2)*i,f=n===l.DataPattern.CIRCLE?(r+2)*o+o/2:(r+2)*o;for(d=0;d<4;d++)a(c,f,t,h,u,s),c+=i;a(c=n===l.DataPattern.CIRCLE?e*i+i/2:e*i,f=n===l.DataPattern.CIRCLE?r*o+o/2:r*o,t,h,u,s)},t.prototype.drawAlignProtectors=function(t){for(var e=this.patternPosition,r=this.config.moduleSize,i=e[e.length-1],o=0;o<e.length;o++)for(var n=0;n<e.length;n++){var s=e[n],l=e[o];(6!==s||6!==l&&l!==i)&&(6!==l||6!==s&&s!==i)&&a.CanvasUtil.drawAlignProtector(t,s,l,r,r)}},t.prototype.drawPositionProtectors=function(t){t.fillStyle=this.config.backgroundImage?"rgba(255, 255, 255, 0.6)":this.config.backgroundColor?this.config.backgroundColor:"rgba(255, 255, 255, 0.6)";var e=this.config.moduleSize,r=this.moduleCount;t.fillRect(0,0,8*e,8*e),t.fillRect(0,(r-8)*e,8*e,8*e),t.fillRect((r-8)*e,0,8*e,8*e),t.fillRect(8*e,6*e,(r-8-8)*e,e),t.fillRect(6*e,8*e,e,(r-8-8)*e)},t.prototype.drawAlignPatterns=function(t,e){for(var r=this.moduleCount,i=.5*(1-this.config.dotScale),o=this.config.dataPattern?this.config.dataPattern:l.DataPattern.SQUARE,n=0;n<r;n++)for(var a=0;a<r;a++){for(var s=this.isDark.bind(this)(n,a)||!1,c=a<8&&(n<8||n>=r-8)||a>=r-8&&n<8,f=6===n||6===a||c,u=this.patternPosition,h=0;h<u.length-1;h++)f=f||n>=u[h]-2&&n<=u[h]+2&&a>=u[h]-2&&a<=u[h]+2;t.strokeStyle=s?e:this.config.colorLight,t.lineWidth=.5,t.fillStyle=s?e:this.config.backgroundImage?"rgba(255, 255, 255, 0.6)":this.config.backgroundColor?this.config.backgroundColor:"rgba(255, 255, 255, 0.6)";var d=a*this.config.nSize+(f?0:i*this.config.nSize),g=n*this.config.nSize+(f?0:i*this.config.nSize);if(0===u.length)f||this.fillRectWithMask(t,d,g,(f?1:this.config.dotScale)*this.config.nSize,(f?1:this.config.dotScale)*this.config.nSize,s,o);else f||a<r-4&&a>=r-4-5&&n<r-4&&n>=r-4-5||this.fillRectWithMask(t,d,g,(f?1:this.config.dotScale)*this.config.nSize,(f?1:this.config.dotScale)*this.config.nSize,s,o)}},t.prototype.fillRectWithMask=function(t,e,r,i,o,n,a){if(this.maskCanvas){t.drawImage(this.maskCanvas,e,r,i,o,e,r,i,o);var s=t.fillStyle;t.fillStyle=n?"rgba(0, 0, 0, .5)":"rgba(255, 255, 255, .7)",t.fillRect(e,r,i,o),t.fillStyle=s}else switch(a){case l.DataPattern.CIRCLE:this.drawCircle(e+i/2,r+o/2,t,o/2);break;case l.DataPattern.KITE:this.drawKite(e,r,t,i,o);break;case l.DataPattern.LEFT_DIAMOND:this.drawDiamond(e,r,t,i,o,!1);break;case l.DataPattern.RIGHT_DIAMOND:this.drawDiamond(e,r,t,i,o,!0);break;default:this.drawSquare(e,r,t,i,o,!1)}},t.prototype.addBackground=function(t,e,r,n){return i(this,void 0,void 0,function(){return o(this,function(i){return r?[2,this.addBackgroundImage(t,e,r)]:(t.rect(0,0,e,e),t.fillStyle=n||"#ffffff",t.fill(),[2])})})},t.prototype.addBackgroundImage=function(t,e,r){return i(this,void 0,void 0,function(){var i=this;return o(this,function(o){return[2,c.loadImage(r).then(function(r){if(i.config.autoColor){var o=a.CanvasUtil.getAverageRGB(r,e);i.config.colorDark="rgb("+o.r+", "+o.g+", "+o.b+")"}if(i.config.maskedDots){var s=i.config.size;i.maskCanvas=n.createCanvas(s,s,i.canvasType),i.maskContext=i.maskCanvas.getContext("2d"),i.maskContext.drawImage(r,0,0,r.width,r.height,0,0,s,s),i.maskContext.rect(0,0,s,s),i.maskContext.fillStyle="#ffffff",i.maskContext.fill()}else t.drawImage(r,0,0,r.width,r.height,0,0,e,e),t.rect(0,0,e,e),t.fillStyle=i.config.backgroundDimming,t.fill()})]})})},t}();e.Drawing=h;var d=function(){function t(t,e){this.totalCount=t,this.dataCount=e}return t.getQRSBlocks=function(e,r){var i=t.getQRSBlockTable(e,r);if(void 0===i)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+r);for(var o=i.length/3,n=[],a=0;a<o;a++)for(var s=i[3*a],l=i[3*a+1],c=i[3*a+2],f=0;f<s;f++)n.push(new t(l,c));return n},t.getQRSBlockTable=function(e,r){switch(r){case l.QRErrorCorrectLevel.L:return t.RS_BLOCK_TABLE[4*(e-1)];case l.QRErrorCorrectLevel.M:return t.RS_BLOCK_TABLE[4*(e-1)+1];case l.QRErrorCorrectLevel.Q:return t.RS_BLOCK_TABLE[4*(e-1)+2];case l.QRErrorCorrectLevel.H:return t.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},t.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],t}();e.QRRSBlock=d;var g=function(){function t(){this.buffer=[],this.length=0}return t.prototype.get=function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},t.prototype.put=function(t,e){for(var r=0;r<e;r++)this.putBit(1==(t>>>e-r-1&1))},t.prototype.getLengthInBits=function(){return this.length},t.prototype.putBit=function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++},t}();e.QRBitBuffer=g;var p=function(){function t(t){this.mode=l.QRMode.MODE_8BIT_BYTE,this.parsedData=[],this.data=t,this.parse()}return t.prototype.getLength=function(){return this.parsedData.length},t.prototype.write=function(t){for(var e=0,r=this.parsedData.length;e<r;e++)t.put(this.parsedData[e],8)},t.prototype.parse=function(){for(var t=0,e=this.data.length;t<e;t++){var r=[],i=this.data.charCodeAt(t);i>65536?(r[0]=240|(1835008&i)>>>18,r[1]=128|(258048&i)>>>12,r[2]=128|(4032&i)>>>6,r[3]=128|63&i):i>2048?(r[0]=224|(61440&i)>>>12,r[1]=128|(4032&i)>>>6,r[2]=128|63&i):i>128?(r[0]=192|(1984&i)>>>6,r[1]=128|63&i):r[0]=i,this.parsedData.push(r)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!==this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))},t}();e.QR8bitByte=p},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PATTERN_POSITION_TABLE=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],e.G15=1335,e.G18=7973,e.G15_MASK=21522},function(t,e,r){"use strict";var i=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))(function(o,n){function a(t){try{l(i.next(t))}catch(t){n(t)}}function s(t){try{l(i.throw(t))}catch(t){n(t)}}function l(t){t.done?o(t.value):new r(function(e){e(t.value)}).then(a,s)}l((i=i.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var r,i,o,n,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(o=2&n[0]?i.return:n[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,i=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){a.label=n[1];break}if(6===n[0]&&a.label<o[1]){a.label=o[1],o=n;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(n);break}o[2]&&a.ops.pop(),a.trys.pop();continue}n=e.call(t,a)}catch(t){n=[6,t],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var n=r(0),a=r(2),s=function(){function t(t){var e={size:1024,margin:1024/12,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:n.QRErrorCorrectLevel.M,backgroundDimming:"rgba(0,0,0,0)",logoScale:.15,logoMargin:1024/12/4,logoCornerRadius:8,dotScale:.35,text:"",maskedDots:!1,isVCard:!1};this.config=Object.assign({},e,t)}return t.prototype.setSize=function(t){return this.config.size=t,this},t.prototype.setMargin=function(t){return this.config.margin=t,this},t.prototype.setTypeNumber=function(t){return this.config.typeNumber=t,this},t.prototype.setColorDark=function(t){return this.config.colorDark=t,this},t.prototype.setColorLight=function(t){return this.config.colorLight=t,this},t.prototype.setCorrectLevel=function(t){return this.config.correctLevel=t,this},t.prototype.setBackgroundImage=function(t){return this.config.backgroundImage=t,this},t.prototype.setBackgroundDimming=function(t){return this.config.backgroundDimming=t,this},t.prototype.setLogoImage=function(t){return this.config.logoImage=t,this},t.prototype.setLogoScale=function(t){return this.config.logoScale=t,this},t.prototype.setLogoMargin=function(t){return this.config.logoMargin=t,this},t.prototype.setLogoCornerRadius=function(t){return this.config.logoCornerRadius=t,this},t.prototype.setWhiteMargin=function(t){return this.config.whiteMargin=t,this},t.prototype.setDotScale=function(t){return this.config.dotScale=t,this},t.prototype.setAutoColor=function(t){return this.config.autoColor=t,this},t.prototype.setText=function(t){return this.config.text=t,this},t.prototype.setMaskedDots=function(t){return this.config.maskedDots=t,this},t.prototype.setEyeFrameShape=function(t){return this.config.eyeFrameShape=t,this},t.prototype.setEyeBallShape=function(t){return this.config.eyeBallShape=t,this},t.prototype.setEyeFrameColor=function(t){return this.config.eyeFrameColor=t,this},t.prototype.setEyeBallColor=function(t){return this.config.eyeBallColor=t,this},t.prototype.setDataPattern=function(t){return this.config.dataPattern=t,this},t.prototype.setGradientType=function(t){return this.config.gradientType=t,this},t.prototype.setBackgroundColor=function(t){return this.config.backgroundColor=t,this},t.prototype.setFrameStyle=function(t){return this.config.frameStyle=t,this},t.prototype.setFrameColor=function(t){return this.config.frameColor=t,this},t.prototype.setFrameText=function(t){return this.config.frameText=t,this},t.prototype.setIsVCard=function(t){return this.config.isVCard=t,this},t.prototype.build=function(t){return i(this,void 0,void 0,function(){var e,r;return o(this,function(i){switch(i.label){case 0:return this.config.canvasType=t||n.CanvasType.PNG,this.config.text?(e=new a.QRCode(-1,this.config),r=e,[4,e.drawing.draw()]):[2,Promise.reject("Setting text is necessary to generate the QRCode")];case 1:return r.canvas=i.sent(),[2,Promise.resolve(e)]}})})},t}();e.QRCodeBuilder=s},function(t,e,r){"use strict";const i="'([^']+)'|\"([^\"]+)\"|[\\w\\s-]+",o=new RegExp("(bold|bolder|lighter|[1-9]00) +","i"),n=new RegExp("(italic|oblique) +","i"),a=new RegExp("(small-caps) +","i"),s=new RegExp("(ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded) +","i"),l=new RegExp("([\\d\\.]+)(px|pt|pc|in|cm|mm|%|em|ex|ch|rem|q) *((?:"+i+")( *, *(?:"+i+"))*)"),c={};t.exports=function(t){if(c[t])return c[t];const e=l.exec(t);if(!e)return;const r={weight:"normal",style:"normal",stretch:"normal",variant:"normal",size:parseFloat(e[1]),unit:e[2],family:e[3].replace(/["']/g,"").replace(/ *, */g,",")};let i,f,u,h,d=t.substring(0,e.index);switch((i=o.exec(d))&&(r.weight=i[1]),(f=n.exec(d))&&(r.style=f[1]),(u=a.exec(d))&&(r.variant=u[1]),(h=s.exec(d))&&(r.stretch=h[1]),r.unit){case"pt":r.size/=.75;break;case"pc":r.size*=16;break;case"in":r.size*=96;break;case"cm":r.size*=96/2.54;break;case"mm":r.size*=96/25.4;break;case"%":break;case"em":case"rem":r.size*=16/.75;break;case"q":r.size*=96/25.4/4}return c[t]=r}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(1),o=r(3),n=r(0),a=r(2);e.BCH={digit:function(t){for(var e=0;0!==t;)e++,t>>>=1;return e},typeInfo:function(t){for(var e=t<<10;this.digit(e)-this.digit(o.G15)>=0;)e^=o.G15<<this.digit(e)-this.digit(o.G15);return(t<<10|e)^o.G15_MASK},typeNumber:function(t){for(var e=t<<12;this.digit(e)-this.digit(o.G18)>=0;)e^=o.G18<<this.digit(e)-this.digit(o.G18);return t<<12|e}};var s=function(){function t(){var t;for(this.EXP_TABLE=new Array(256),this.LOG_TABLE=new Array(256),t=0;t<8;t++)this.EXP_TABLE[t]=1<<t;for(t=8;t<256;t++)this.EXP_TABLE[t]=this.EXP_TABLE[t-4]^this.EXP_TABLE[t-5]^this.EXP_TABLE[t-6]^this.EXP_TABLE[t-8];for(t=0;t<255;t++)this.LOG_TABLE[this.EXP_TABLE[t]]=t}return t.prototype.glog=function(t){if(t<1)throw new Error("glog("+t+")");return this.LOG_TABLE[t]},t.prototype.gexp=function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return this.EXP_TABLE[t]},t}();e.QRMath=new s,e.CanvasUtil={getAverageRGB:function(t,e){var r,o,n,a,s={r:0,g:0,b:0},l=i.createCanvas(e,e),c=l.getContext("2d"),f={r:0,g:0,b:0},u=-4,h=0;if(!c)return s;n=l.height=t.naturalHeight||t.height,o=l.width=t.naturalWidth||t.width,c.drawImage(t,0,0);try{r=c.getImageData(0,0,o,n)}catch(t){return s}for(a=r.data.length;(u+=20)<a;)r.data[u]>200||r.data[u+1]>200||r.data[u+2]>200||(++h,f.r+=r.data[u],f.g+=r.data[u+1],f.b+=r.data[u+2]);return f.r=~~(f.r/h),f.g=~~(f.g/h),f.b=~~(f.b/h),f},prepareRoundedCornerClip:function(t,e,r,i,o,n){t.beginPath(),t.moveTo(e,r),t.arcTo(e+i,r,e+i,r+o,n),t.arcTo(e+i,r+o,e,r+o,n),t.arcTo(e,r+o,e,r,n),t.arcTo(e,r,e+i,r,n),t.closePath()},drawAlignProtector:function(t,e,r,i,o){t.clearRect((e-2)*i,(r-2)*o,5*i,5*o),t.fillRect((e-2)*i,(r-2)*o,5*i,5*o)},drawAlign:function(t,e,r,i,o){t.fillRect((e-2)*i,(r-2)*o,i,4*o),t.fillRect((e+2)*i,(r-2+1)*o,i,4*o),t.fillRect((e-2+1)*i,(r-2)*o,4*i,o),t.fillRect((e-2)*i,(r+2)*o,4*i,o),t.fillRect(e*i,r*o,i,o)}},e.Util={getPatternPosition:function(t){return o.PATTERN_POSITION_TABLE[t-1]},hasMask:function(t,e,r){switch(t){case n.QRMaskPattern.PATTERN000:return(e+r)%2==0;case n.QRMaskPattern.PATTERN001:return e%2==0;case n.QRMaskPattern.PATTERN010:return r%3==0;case n.QRMaskPattern.PATTERN011:return(e+r)%3==0;case n.QRMaskPattern.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case n.QRMaskPattern.PATTERN101:return e*r%2+e*r%3==0;case n.QRMaskPattern.PATTERN110:return(e*r%2+e*r%3)%2==0;case n.QRMaskPattern.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var r=new a.QRPolynomial([1],0),i=0;i<t;i++)r=r.multiply(new a.QRPolynomial([1,e.QRMath.gexp(i)],0));return r},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case n.QRMode.MODE_NUMBER:return 10;case n.QRMode.MODE_ALPHA_NUM:return 9;case n.QRMode.MODE_8BIT_BYTE:case n.QRMode.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case n.QRMode.MODE_NUMBER:return 12;case n.QRMode.MODE_ALPHA_NUM:return 11;case n.QRMode.MODE_8BIT_BYTE:return 16;case n.QRMode.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case n.QRMode.MODE_NUMBER:return 14;case n.QRMode.MODE_ALPHA_NUM:return 13;case n.QRMode.MODE_8BIT_BYTE:return 16;case n.QRMode.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){var e,r,i=t.moduleCount,o=0;for(e=0;e<i;e++)for(r=0;r<i;r++){for(var n=0,a=t.isDark(e,r),s=-1;s<=1;s++)if(!(e+s<0||i<=e+s))for(var l=-1;l<=1;l++)r+l<0||i<=r+l||0===s&&0===l||a===t.isDark(e+s,r+l)&&n++;n>5&&(o+=3+n-5)}for(e=0;e<i-1;e++)for(r=0;r<i-1;r++){var c=0;t.isDark(e,r)&&c++,t.isDark(e+1,r)&&c++,t.isDark(e,r+1)&&c++,t.isDark(e+1,r+1)&&c++,0!==c&&4!==c||(o+=3)}for(e=0;e<i;e++)for(r=0;r<i-6;r++)t.isDark(e,r)&&!t.isDark(e,r+1)&&t.isDark(e,r+2)&&t.isDark(e,r+3)&&t.isDark(e,r+4)&&!t.isDark(e,r+5)&&t.isDark(e,r+6)&&(o+=40);for(r=0;r<i;r++)for(e=0;e<i-6;e++)t.isDark(e,r)&&!t.isDark(e+1,r)&&t.isDark(e+2,r)&&t.isDark(e+3,r)&&t.isDark(e+4,r)&&!t.isDark(e+5,r)&&t.isDark(e+6,r)&&(o+=40);var f=0;for(r=0;r<i;r++)for(e=0;e<i;e++)t.isDark(e,r)&&f++;return o+=10*(Math.abs(100*f/i/i-50)/5)}}},function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=r(1),o=void 0!==t&&null!=t.versions&&null!=t.versions.node;e.loadImage=function(t){var e;return o?e=new i.Image:(e=document.createElement("img")).crossOrigin="Anonymous",new Promise(function(r,i){function o(){e.onload=null,e.onerror=null}e.onerror=function(t){o(),i(t)},e.onload=function(){o(),r(e)},e.src=t})}}).call(this,r(8))},function(t,e){var r,i,o=t.exports={};function n(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(r===setTimeout)return setTimeout(t,0);if((r===n||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:n}catch(t){r=n}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var l,c=[],f=!1,u=-1;function h(){f&&l&&(f=!1,l.length?c=l.concat(c):u=-1,c.length&&d())}function d(){if(!f){var t=s(h);f=!0;for(var e=c.length;e;){for(l=c,c=[];++u<e;)l&&l[u].run();u=-1,e=c.length}l=null,f=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function g(t,e){this.fun=t,this.array=e}function p(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new g(t,e)),1!==c.length||f||s(d)},g.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=p,o.addListener=p,o.once=p,o.off=p,o.removeListener=p,o.removeAllListeners=p,o.emit=p,o.prependListener=p,o.prependOnceListener=p,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}}]);
